# Best practices: https://helm.sh/docs/chart_best_practices/values/

# Normal state:
rabbitmq:
  enabled: true
postgres:
  enabled: true
redis:
  enabled: true
api-gateway:
  enabled: true
vro-app:
  enabled: true
vro-svcs:
  enabled: true
domain-cc:
  enabled: true
domain-rrd:
  enabled: false
# Enable as needed:
console:
  enabled: false

rabbitmq-chart:
  imageTag: "3"

redis-chart:
  imageTag: "7"

# To override a setting on commandline: helm --set-string "global.someKey=someValue" ...
global:

  hostnamePrefix: vro

  images:
    # Configurable b/c VRO has 2 repos
    repo: abd-vro-internal

  imagePrefix: dev_
  # tag is used to set the default image tag for all VRO images
  imageTag: "latest"

  commitSha: placeholder

  # Persistent Volumes
  pgdata:
    pvcName: vro-pgdata-pvc
    mountPath: /persist/postgres
    storageSize: 2Gi
  tracking:
    pvcName: vro-tracking-pvc
    mountPath: /persist/tracking
    storageSize: 1Gi

  # environment is overridden by deploy scripts with $ENV values like dev, qa, prod
  environment: dev
  # Used by virtual-service's hosts
  # Refer to https://animated-carnival-57b3e7f5.pages.github.io/container-platform/routing-traffic/
  endpoint: dev.lighthouse.va.gov
  lhdiCluster: nonprod

  service:
    apiGateway:
      sourcePort: 8060
      targetPort: 8060
    app:
      sourcePort: 8110
      targetPort: 8110
    ccApp:
      sourcePort: 8120
      targetPort: 8120
    db:
      sourcePort: 5432
      targetPort: 5432
      databaseName: vro
      schemaName: claims
    mq:
      sourcePort: 5672
      targetPort: 5672
    redis:
      sourcePort: 6379
      targetPort: 6379

  bip:
    # TODO: Consider moving these URL settings to application-*.yml files
    bipClaimUrl: claims-uat.stage.bip.va.gov/api/v1
    bipEvidenceUrl: vefs-claimevidence-uat.stage.bip.va.gov/api/v1/rest

  mas:
    # TODO: Consider moving these URL settings to application-*.yml files
    masApiAuthTokenUri: https://viccs-api-dev.ibm-intelligent-automation.com/pca/api/dev/token
    masApiBaseUrl: https://viccs-api-dev.ibm-intelligent-automation.com/pca/api/dev

vro-app-chart:
  # TODO: Consider moving these URL settings to application-*.yml files
  vroAudUrl: https://sandbox-api.va.gov/services/abd-vro
  lhApiAuthUrl: https://sandbox-api.va.gov/internal/auth/v2/validation
