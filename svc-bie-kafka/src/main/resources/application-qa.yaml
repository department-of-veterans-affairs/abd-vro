spring:
  kafka:
    bootstrap-servers: "${BIE_KAFKA_PLACEHOLDERS_BROKERS:bip-kafka.tst.bip.va.gov:443}"
    properties:
      schema:
        registry:
          url: "${BIE_KAFKA_PLACEHOLDERS_BROKERS:https://${BIE_KAFKA_RBAC_USERNAME}:${BIE_KAFKA_RBAC_PASSWORD}@bip-schemaregistry.tst.bip.va.gov}"
          security.protocol: SASL_SSL
          security.inter.broker.protocol: SASL_SSL
          sasl:
            mechanism: PLAIN
            jaas:
              config: "org.apache.kafka.common.security.plain.PlainLoginModule required username=${BIE_KAFKA_RBAC_USERNAME:USERNAME} password=${BIE_KAFKA_RBAC_PASSWORD:PASSWORD};"
          ssl:
# Keystore not needed https://dsva.slack.com/archives/C04U8GESRT7/p1708456986385019?thread_ts=1706878417.546749&cid=C04U8GESRT7
#            protocol: SSL
#            keystore:
#              type: PKCS12
#              location: "${KEYSTORE_FILE}"
#              password: "${BIE_KAFKA_KEYSTORE_PASSWORD}"
            truststore:
              type: PKCS12
              location: "${TRUSTSTORE_FILE}"
              password: "${BIE_KAFKA_TRUSTSTORE_PASSWORD}"
    consumer:
      group-id: "${BIE_KAFKA_PLACEHOLDERS_GROUP_ID:vro-bie-ivv-vro}"
      key-deserializer: "org.apache.kafka.common.serialization.StringDeserializer"
      value-deserializer: "io.confluent.kafka.serializers.KafkaAvroDeserializer"
      properties:
#        security.protocol: SSL
#        ssl:
#          keystore:
#            type: PKCS12
#            location: "${KEYSTORE_FILE}"
#            password: "${BIE_KAFKA_KEYSTORE_PASSWORD}"
          truststore:
            type: PKCS12
            location: "${TRUSTSTORE_FILE}"
            password: "${BIE_KAFKA_TRUSTSTORE_PASSWORD}"

bie:
  kafka-topic-env: "IVV_"
