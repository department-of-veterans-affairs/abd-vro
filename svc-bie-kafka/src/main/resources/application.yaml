spring:
  profiles:
    # See https://github.com/department-of-veterans-affairs/abd-vro/wiki/Configuration-settings#vros-use-of-spring-profiles
    active: ${ENV:default}

  # Specify where Spring connects to RabbitMQ
  rabbitmq:
    host: "${RABBITMQ_PLACEHOLDERS_HOST:localhost}"
    port: 5672
    username: "${RABBITMQ_PLACEHOLDERS_USERNAME:guest}"
    password: "${RABBITMQ_PLACEHOLDERS_USERPASSWORD:guest}"
  # Specify where Spring connects to Kafka
  kafka:
    bootstrap-servers: "${BIE_KAFKA_PLACEHOLDERS_BROKERS:localhost:9092}"
    properties:
      schema.registry.url: "${BIE_KAFKA_PLACEHOLDERS_BROKERS:https://schemaregistry.dev.bip.va.gov:443}"
      specific.avro.reader: false
    consumer:
      group-id: "${BIE_KAFKA_PLACEHOLDERS_GROUP_ID:vro-bie-tst-vro}"
      key-deserializer: "org.apache.kafka.common.serialization.StringDeserializer"
      value-deserializer: "org.apache.kafka.common.serialization.StringDeserializer"
      fetch:
        max:
          bytes: 10485760
      max:
        poll:
          records: 500
        partition:
          fetch:
            bytes: 1048576
      auto-offset-reset: latest
kafka:
  topic:
    prefix: TST
## Specify bie properties
bie:
  kafka-topic-to-amqp-exchange-map:
    # Map of entries where the keys are the kafka topics to which this app will subscribe. The value is the corresponding
    # RabbitMQ exchange upon which the payload will be put. These values are separated by a colon ":" character.
    TST_CONTENTION_BIE_CONTENTION_ASSOCIATED_TO_CLAIM_V02: bie-events-contention-associated
    TST_CONTENTION_BIE_CONTENTION_UPDATED_V02: bie-events-contention-updated
    TST_CONTENTION_BIE_CONTENTION_CLASSIFIED_V02: bie-events-contention-classified
    TST_CONTENTION_BIE_CONTENTION_COMPLETED_V02: bie-events-contention-completed
    TST_CONTENTION_BIE_CONTENTION_DELETED_V02: bie-events-contention-deleted

## Actuator for health check
management:
  server:
    port: 10301
  endpoint:
    health:
      show-details: always
      enabled: true
      probes:
        enabled: true
