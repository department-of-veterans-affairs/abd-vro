plugins {
  id 'local.python.app-conventions'
  id 'local.python.container-service-conventions'
}

tasks.register('mypy', PythonTask) {
  module = 'mypy'
  command = 'src'
  dependsOn 'requirements'
}

tasks.register('ruff', PythonTask) {
  module = 'ruff'
  command = 'check'
  dependsOn 'mypy'
}

// Override the pytest task in local.python.app-conventions to remove dependency on pyflake8
tasks.getByPath('pytest').configure {
  dependsOn.clear()
  dependsOn 'ruff'
}
